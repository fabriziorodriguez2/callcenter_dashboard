
:root{
  --bg: #f5f6f8;
  --text: #0f1720;
  --muted: #5a6270;
  --card: #ffffff;
  --border: #dcdfe5;
  --accent: #7A1B56;   
  --shadow: 0 6px 18px rgba(0,0,0,.06);
  --radius: 6px;
}

/* ===== Base ===== */
*{ box-sizing: border-box; }
html,body{ height:100% }
body{ margin:0; background:var(--bg); color:var(--text);
  font: 14px/1.45 system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans","Liberation Sans";
}

/* ===== Topbar ===== */
.topbar{
  position: sticky; top:0; z-index:10;
  display:flex; align-items:center; justify-content:space-between;
  padding:10px 16px; background:var(--card); border-bottom:1px solid var(--border);
}
.brand-wrap{ display:flex; align-items:center; gap:10px }
.logo{ height:28px; width:auto; display:block }
.brand{ margin:0; font-size:18px; font-weight:700; letter-spacing:.2px }

/* ===== Layout ===== */
.container{ max-width:1100px; margin:22px auto 60px; padding:0 16px; display:grid; gap:18px }

/* ===== Card ===== */
.card{ background:var(--card); border:1px solid var(--border); border-radius:var(--radius); box-shadow:var(--shadow); padding:16px 16px 18px }
.section-title{ margin:0 0 12px; font-size:16px; font-weight:700; color:var(--text) }

/* ===== Filtros ===== */
.filters-row{ display:grid; gap:12px; grid-template-columns:repeat(12,1fr); align-items:end }
.field{ display:flex; flex-direction:column; gap:6px; grid-column:span 3; min-width:180px }
.field.small{ grid-column:span 2; min-width:185px }
.field span{ font-size:12px; color:var(--muted);  white-space: nowrap;overflow: hidden; text-overflow: ellipsis;}
.actions{ display:flex; gap:10px; grid-column:span 4; justify-content:flex-end; align-items:center }

.input{ height:36px; padding:6px 10px; border-radius:4px; border:1px solid var(--border); background:#fff; color:#0f1720; outline:none }
.input:focus{ border-color:var(--accent) }

/* ===== Botones ===== */
.btn{ border:1px solid var(--border); background:#fff; color:#0f1720; padding:8px 14px; border-radius:4px; cursor:pointer; min-width:120px; transition:background .12s,border-color .12s,transform .06s }
.btn:hover{ border-color:#c9cdd5 }
.btn:active{ transform:scale(.98) }
.btn.primary{ background:var(--accent); border-color:var(--accent); color:#fff }
.btn.ghost{ background:transparent; min-width:auto; padding:6px 10px }

/* ===== KPIs ===== */
.kpis{ display:grid; gap:16px; grid-template-columns:repeat(3,1fr) }
.kpi{ padding:14px 16px }
.kpi-title{ font-size:12px; text-transform:uppercase; letter-spacing:.6px; color:var(--muted); margin-bottom:6px }
.kpi-value{ font-size:32px; font-weight:800 }

/* ===== Chart ===== */
.chart-wrap{ width:100%; display:flex; justify-content:center }

/* ===== Tabla ===== */
.table-wrap{ overflow:auto }
table{ width:100%; border-collapse:collapse; font-size:14px }
thead th{ background:#f2f4f7; color:#4b5563; font-weight:600; text-transform:uppercase; letter-spacing:.4px; border-bottom:1px solid var(--border); padding:10px }
tbody td{ padding:10px; border-bottom:1px solid var(--border) }
tbody tr:hover{ background:rgba(0,0,0,.02) }

/* ===== Snapshots ===== */
.snapshots{ display:grid; gap:10px }
.snapshots .item{ display:flex; gap:10px; align-items:center; justify-content:space-between; flex-wrap:wrap }
.meta{ display:flex; gap:8px; align-items:center; color:var(--muted); font-size:12px }
.pill{ border:1px solid var(--border); padding:4px 8px; border-radius:4px; background:#f7f7f9 }

/* ===== FAB ===== */
.fab{ position:fixed; right:20px; bottom:20px; width:44px; height:44px; display:grid; place-items:center; border:0; border-radius:6px; background:var(--accent); color:#fff; box-shadow:var(--shadow); cursor:pointer }

/* ===== Modal ===== */
.modal{ position:fixed; inset:0; display:none }
.modal.show{ display:block }
.modal-backdrop{ position:absolute; inset:0; background:rgba(0,0,0,.32) }
.modal-dialog{ position:absolute; left:50%; top:50%; transform:translate(-50%,-50%); width:min(800px,92vw); max-height:85vh; overflow:hidden; background:var(--card); color:var(--text); border:1px solid var(--border); border-radius:var(--radius); box-shadow:var(--shadow); display:flex; flex-direction:column }
.modal-header,.modal-footer{ padding:12px 16px; border-bottom:1px solid var(--border) }
.modal-footer{ border-top:1px solid var(--border); border-bottom:0 }
.modal-title{ font-weight:700 }
.modal-body{ padding:16px; overflow:auto }
.kpi-row{ display:flex; gap:16px; justify-content:center; flex-wrap:wrap }
.kpi-lg{ font-size:24px; font-weight:800 }
.kv-grid{ display:grid; gap:10px; grid-template-columns:repeat(2,minmax(0,1fr)) }
.kv{ display:flex; justify-content:space-between; gap:10px }
.kv span{ color:var(--muted) }

/* ===== Toast ===== */
.toast{ position:fixed; bottom:18px; left:50%; transform:translateX(-50%); background:var(--card); color:var(--text); border:1px solid var(--border); border-radius:4px; padding:8px 12px; box-shadow:var(--shadow); display:none }
.toast.show{ display:block }

/* ===== Responsive ===== */
@media (max-width:980px){
  .kpis{ grid-template-columns:1fr }
  .filters-row{ grid-template-columns:repeat(6,1fr) }
  .field{ grid-column:span 3 }
  .field.small{ grid-column:span 3 }
  .actions{ grid-column:span 6; justify-content:flex-start }
}

/* ===== Autocomplete (dropdown) ===== */
.ac-wrap { position: relative; }
.ac-list{
  position: absolute; z-index: 20; left: 0; right: 0; top: calc(100% + 4px);
  background: var(--card); color: var(--text);
  border: 1px solid var(--border); border-radius: 6px; box-shadow: var(--shadow);
  max-height: 260px; overflow: auto; display: none;
}
.ac-list.show { display: block; }
.ac-item{
  padding: 8px 10px; cursor: pointer; display: flex; gap: 6px; align-items: center;
}
.ac-item small{ color: var(--muted); margin-left: auto; }
.ac-item:hover, .ac-item.active{ background: rgba(122, 27, 86, 0.08); }
:root.dark .ac-item:hover, :root.dark .ac-item.active{ background: rgba(122, 27, 86, 0.18); }

/* marca secundaria en el placeholder */
.input::placeholder { color: #7d8594; opacity: .9; }